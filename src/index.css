
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global Arabic Font Application */
@layer base {
  /* Default font stack with Arabic fallback */
  * {
    font-family: 'Poppins', 'IBM Plex Sans Arabic', system-ui, sans-serif;
  }
  
  /* Automatic Arabic text styling - Font only, no direction change */
  .font-arabic {
    font-family: 'IBM Plex Sans Arabic', Arial, sans-serif !important;
  }
  
  /* RTL only for input fields when they contain Arabic text */
  input.font-arabic,
  textarea.font-arabic,
  [contenteditable].font-arabic,
  *[dir="rtl"] {
    direction: rtl !important;
    text-align: right !important;
  }
  
  /* Mixed content support - maintains LTR for mixed Arabic/English */
  .mixed-content {
    font-family: 'IBM Plex Sans Arabic', 'Poppins', system-ui, sans-serif !important;
    direction: ltr;
    text-align: left;
  }
  
  /* Ensure all text inputs support Arabic */
  input, textarea, select {
    font-family: 'Poppins', 'IBM Plex Sans Arabic', system-ui, sans-serif;
  }
  
  /* Dialog and modal content */
  [role="dialog"] *,
  [data-radix-collection-item] *,
  [data-state] * {
    font-family: inherit;
  }
  
  /* Direction utilities */
  .dir-rtl, .direction-rtl {
    direction: rtl !important;
  }
  
  .dir-ltr, .direction-ltr {
    direction: ltr !important;
  }
  
  /* Ensure regular text elements stay LTR even with Arabic content */
  p, h1, h2, h3, h4, h5, h6, span, div, li, td, th, label {
    direction: ltr !important;
  }
  
  /* Apply left alignment only when not explicitly centered */
  :not(.text-center):not(.flex):not([style*="text-align"]) p:not([style*="text-align"]),
  :not(.text-center):not(.flex):not([style*="text-align"]) h1:not([style*="text-align"]),
  :not(.text-center):not(.flex):not([style*="text-align"]) h2:not([style*="text-align"]),
  :not(.text-center):not(.flex):not([style*="text-align"]) h3:not([style*="text-align"]),
  :not(.text-center):not(.flex):not([style*="text-align"]) h4:not([style*="text-align"]),
  :not(.text-center):not(.flex):not([style*="text-align"]) h5:not([style*="text-align"]),
  :not(.text-center):not(.flex):not([style*="text-align"]) h6:not([style*="text-align"]),
  :not(.text-center):not(.flex):not([style*="text-align"]) span:not([style*="text-align"]),
  :not(.text-center):not(.flex):not([style*="text-align"]) label:not([style*="text-align"]) {
    text-align: left;
  }
  
  /* Override for input fields only */
  input.font-arabic, textarea.font-arabic, [contenteditable].font-arabic {
    direction: rtl !important;
    text-align: right !important;
  }
  
  /* Auto-detect Arabic in common elements */
  h1, h2, h3, h4, h5, h6, p, span, div, li, td, th, label, button {
    font-family: 'Poppins', 'IBM Plex Sans Arabic', system-ui, sans-serif;
  }
  
  /* Ensure proper font cascade in all UI components */
  .ui-sans {
    font-family: 'Poppins', 'IBM Plex Sans Arabic', system-ui, sans-serif !important;
  }
  
  /* Force Arabic font when detected by MutationObserver */
  .font-arabic * {
    font-family: 'IBM Plex Sans Arabic', Arial, sans-serif !important;
  }
  
  /* Preserve mixed content font stack */
  .font-arabic.mixed-content * {
    font-family: 'IBM Plex Sans Arabic', 'Poppins', system-ui, sans-serif !important;
  }
}

@layer base {
  :root {
    /* Base Colors */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    /* Card Colors */
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    /* Popover Colors */
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* Primary Colors - Blue Brand (blue-600) */
    --primary: var(--blue-600);
    --primary-foreground: 210 40% 98%;

    /* Secondary Colors */
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    /* Muted Colors */
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    /* Accent Colors */
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    /* Destructive Colors */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    /* Border & Input Colors */
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: var(--blue-600);

    /* Border Radius */
    --radius: 0.5rem;

    /* Sidebar Colors - Unified Theme */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 222.2 84% 4.9%;
    --sidebar-primary: var(--blue-600);
    --sidebar-primary-foreground: 210 40% 98%;
    --sidebar-accent: var(--blue-50);
    --sidebar-accent-foreground: var(--blue-700);
    --sidebar-border: 240 20% 85%;
    --sidebar-ring: var(--blue-600);

    /* Blue Color Palette remapped to Blue Brand (Tailwind blue) */
    --blue-50: 213.8 100% 96.8%;
    --blue-100: 214.3 94.6% 92.7%;
    --blue-200: 213.1 93.9% 87.8%;
    --blue-300: 212.7 97.2% 83.7%;
    --blue-400: 215.3 95.1% 73.5%;
    --blue-500: 217.2 91.2% 59.8%;
    --blue-600: 221.2 83.2% 53.3%;
    --blue-700: 224.3 76.3% 48%;
    --blue-800: 226.2 70.7% 40.2%;
    --blue-900: 224.3 64.6% 32.5%;
    --blue-950: 226.2 55.3% 25.3%;
  }

  .dark {
    /* Dark Mode Base Colors */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    /* Dark Mode Card Colors */
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    /* Dark Mode Popover Colors */
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    /* Dark Mode Primary Colors - Blue Brand */
    --primary: var(--blue-600);
    --primary-foreground: 222.2 47.4% 11.2%;

    /* Dark Mode Secondary Colors */
    --secondary: 240 20% 20%;
    --secondary-foreground: 210 40% 98%;

    /* Dark Mode Muted Colors */
    --muted: 240 20% 20%;
    --muted-foreground: 215 20.2% 65.1%;

    /* Dark Mode Accent Colors */
    --accent: 240 20% 20%;
    --accent-foreground: 210 40% 98%;

    /* Dark Mode Destructive Colors */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    /* Dark Mode Border & Input Colors */
    --border: 240 20% 20%;
    --input: 240 20% 20%;
    --ring: var(--blue-600);

    /* Dark Mode Sidebar Colors */
    --sidebar-background: 222.2 84% 4.9%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: var(--blue-600);
    --sidebar-primary-foreground: 222.2 47.4% 11.2%;
    --sidebar-accent: var(--blue-800);
    --sidebar-accent-foreground: 217.2 91.2% 59.8%;
    --sidebar-border: 240 20% 25%;
    --sidebar-ring: var(--blue-600);

    /* Dark Mode Blue Palette (reversed for dark context) */
    --blue-50: 226.2 55.3% 25.3%;
    --blue-100: 224.3 64.6% 32.5%;
    --blue-200: 226.2 70.7% 40.2%;
    --blue-300: 224.3 76.3% 48%;
    --blue-400: 221.2 83.2% 53.3%;
    --blue-500: 217.2 91.2% 59.8%;
    --blue-600: 215.3 95.1% 73.5%;
    --blue-700: 212.7 97.2% 83.7%;
    --blue-800: 213.1 93.9% 87.8%;
    --blue-900: 214.3 94.6% 92.7%;
    --blue-950: 213.8 100% 96.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Custom Blue Utility Classes */
@layer utilities {
  .bg-blue-brand {
    background-color: hsl(var(--blue-600));
  }
  
  .text-blue-brand {
    color: hsl(var(--blue-600));
  }
  
  .border-blue-brand {
    border-color: hsl(var(--blue-600));
  }
  
  .hover\:bg-blue-brand:hover {
    background-color: hsl(var(--blue-700));
  }
  
  .hover\:text-blue-brand:hover {
    color: hsl(var(--blue-600));
  }

  /* Liquid Glass active effect */
  .glass-active {
    position: relative;
    overflow: hidden;
    border-radius: 0.4rem; /* match rounded-xl */
    background: linear-gradient(
      135deg,
      hsl(var(--blue-700) / 0.18) 0%,
      hsl(var(--blue-500) / 0.12) 100%
    );
    backdrop-filter: saturate(180%) blur(10px);
    -webkit-backdrop-filter: saturate(180%) blur(10px);
    border: none;
    box-shadow: none;
  }
  .glass-active::before {
    content: "";
    position: absolute;
    inset: -20% 40% 60% -30%;
    background: radial-gradient(
      60% 60% at 50% 50%,
      hsl(0 0% 100% / 0.28) 0%,
      hsl(0 0% 100% / 0.08) 60%,
      transparent 100%
    );
    filter: blur(8px);
    pointer-events: none;
  }
  .glass-active::after {
    content: "";
    position: absolute;
    inset: 50% -10% -20% 60%;
    background: radial-gradient(
      50% 50% at 50% 50%,
      hsl(var(--blue-600) / 0.25) 0%,
      transparent 70%
    );
    filter: blur(16px);
    pointer-events: none;
  }

  .dark .glass-active {
    border-radius: 0.4rem; /* match rounded-xl */
    background: linear-gradient(
      135deg,
      hsl(var(--blue-400) / 0.14) 0%,
      hsl(var(--blue-300) / 0.10) 100%
    );
    border: none;
    box-shadow: none;
  }

  /* Hide scrollbars but maintain functionality */
  .scrollbar-none {
    -ms-overflow-style: none !important;  /* Internet Explorer 10+ */
    scrollbar-width: none !important;  /* Firefox */
  }
  .scrollbar-none::-webkit-scrollbar {
    display: none !important;  /* Safari and Chrome */
    width: 0 !important;
    height: 0 !important;
  }
  .scrollbar-none::-webkit-scrollbar-track {
    background: transparent !important;
  }
  .scrollbar-none::-webkit-scrollbar-thumb {
    background: transparent !important;
  }
  
  /* Hide Radix ScrollArea scrollbar in sidebar */
  .sidebar-scroll-area [data-radix-scroll-area-scrollbar] {
    display: none !important;
  }
  
  /* Loading State Text Center Override */
  .loading-text-center,
  .loading-text-center p,
  .loading-text-center h1,
  .loading-text-center h2,
  .loading-text-center h3,
  .loading-text-center h4,
  .loading-text-center h5,
  .loading-text-center h6,
  .loading-text-center span {
    text-align: center !important;
    direction: ltr !important;
  }
}
