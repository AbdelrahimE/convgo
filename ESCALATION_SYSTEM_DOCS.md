# ๐ ูุธุงู ุงูุชุตุนูุฏ ุงูุฐูู ููุฏุนู ุงูุจุดุฑู - ConvGo

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ
ูุธุงู ุชุตุนูุฏ ุฐูู ููุชุทูุฑ ูุญุฏุฏ ุชููุงุฆูุงู ูุชู ุชุญุชุงุฌ ุงููุญุงุฏุซุฉ ููุชุฏุฎู ุงูุจุดุฑูุ ูุน ุฅููุงููุฉ ุงูุชุตุนูุฏ ุงููุฏูู ุนูุฏ ุงูุทูุจ.

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุงูุชุตุนูุฏ ุงูุฐูู ุงูุชููุงุฆู
- **ูุดู ุงููููุงุช ุงูููุชุงุญูุฉ**: ูุชุนุฑู ุนูู ุทูุจุงุช ุงูุฏุนู ุงูุจุดุฑู ุชููุงุฆูุงู
- **ุชุญููู ุงูุซูุฉ**: ูุฑุงูุจ ูุณุชูู ุซูุฉ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุงูุฅุฌุงุจุงุช
- **ูุดู ุงูุชูุฑุงุฑ**: ูุชุนุฑู ุนูู ุงูุฃุณุฆูุฉ ุงููุชูุฑุฑุฉ
- **ุงูููุงุถูุน ุงูุญุณุงุณุฉ**: ูุชุนุฑู ุนูู ุงูุดูุงูู ูุงููุณุงุฆู ุงููุงููููุฉ

### 2. ุฅุฏุงุฑุฉ ูุฑูู ุงูุฏุนู
- ุฅุถุงูุฉ ุฃุฑูุงู ุฏุนู ูุชุนุฏุฏุฉ
- ุชูุนูู/ุชุนุทูู ุฃุฑูุงู ุจุดูู ูุฑุฏู
- ุฅุฑุณุงู ุชูุจููุงุช ููุฑูุฉ ูุน ุฑูุงุจุท wa.me
- ูุชุงุจุนุฉ ุญุงูุฉ ูู ุฑูู

### 3. ูุชุงุจุนุฉ ุงููุญุงุฏุซุงุช ุงูููุตุนุฏุฉ
- ุนุฑุถ ูุงุฆูุฉ ุงููุญุงุฏุซุงุช ุงููุดุทุฉ
- ุงูุณูุงู ุงููุงูู ูููุญุงุฏุซุฉ
- ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก
- ุฅููุงููุฉ ุญู ุงูุชุตุนูุฏ ุจููุฑุฉ ูุงุญุฏุฉ

## ๐๏ธ ุงูุชูููู ูุงูุฅุนุฏุงุฏ

### ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
ูู ุจุชุดุบูู migration ุงูููุฌูุฏ ูู:
```bash
supabase/migrations/create_escalation_system_tables.sql
```

### ุชูููู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

#### ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูุชุตุนูุฏ (`/escalation-settings`)
- ุฅุฏุงุฑุฉ ุฃุฑูุงู ูุฑูู ุงูุฏุนู
- ุชุฎุตูุต ุฑุณุงุฆู ุงูุชุตุนูุฏ
- ุถุจุท ูุนุงููุฑ ุงูุชุตุนูุฏ ุงูุชููุงุฆู
- ุชุญุฏูุฏ ุงููููุงุช ุงูููุชุงุญูุฉ

#### ุตูุญุฉ ุงููุญุงุฏุซุงุช ุงูููุตุนุฏุฉ (`/escalated-conversations`)
- ุนุฑุถ ุงููุญุงุฏุซุงุช ุงููุดุทุฉ ูุงููุญูููุฉ
- ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก
- ุฅุฏุงุฑุฉ ุงูุชุตุนูุฏุงุช

## ๐ ูุนุงููุฑ ุงูุชุตุนูุฏ

### ุงูุชุตุนูุฏ ุงููุจุงุดุฑ
ูุชู ุงูุชุตุนูุฏ ููุฑุงู ุนูุฏ:
- ุทูุจ ุตุฑูุญ ูู ุงูุนููู ("ุฃุฑูุฏ ุงูุชุญุฏุซ ูุน ููุธู")
- ูููุงุช ููุชุงุญูุฉ ูุญุฏุฏุฉ ูุณุจูุงู

### ุงูุชุตุนูุฏ ุงูุชููุงุฆู
ูุชู ุจูุงุกู ุนูู:
- **ุซูุฉ ููุฎูุถุฉ**: ุฃูู ูู 40% ูู 3 ุฑุณุงุฆู ูุชุชุงููุฉ
- **ุฃุณุฆูุฉ ูุชูุฑุฑุฉ**: ููุณ ุงูุณุคุงู 3 ูุฑุงุช ุฃู ุฃูุซุฑ
- **ููุงุถูุน ุญุณุงุณุฉ**: ุดูุงููุ ูุณุงุฆู ูุงููููุฉุ ุทูุจุงุช ุงุณุชุฑุฌุงุน

## ๐ ุณูุฑ ุงูุนูู

```mermaid
graph TD
    A[ุฑุณุงูุฉ ุฌุฏูุฏุฉ] --> B{ูุญุงุฏุซุฉ ููุตุนุฏุฉุ}
    B -->|ูุนู| C[ุฅุฑุณุงู ุฑุณุงูุฉ ุงููุญุงุฏุซุฉ ุงูููุตุนุฏุฉ]
    B -->|ูุง| D{ุชุญุชุงุฌ ุชุตุนูุฏุ}
    D -->|ูุนู| E[ุชุตุนูุฏ ุงููุญุงุฏุซุฉ]
    E --> F[ุฅุดุนุงุฑ ูุฑูู ุงูุฏุนู]
    E --> G[ุฅุฑุณุงู ุฑุณุงูุฉ ุงูุชุตุนูุฏ ููุนููู]
    D -->|ูุง| H[ูุนุงูุฌุฉ ุนุงุฏูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู]
```

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ

- ุนุฏุฏ ุงููุญุงุฏุซุงุช ุงูููุตุนุฏุฉ ุงููุดุทุฉ
- ูุชูุณุท ููุช ุงูุญู
- ุฃูุซุฑ ุฃุณุจุงุจ ุงูุชุตุนูุฏ ุดููุนุงู
- ูุนุฏู ุงูุชุตุนูุฏ ุงููููู

## ๐ง Edge Functions

### `send-escalation-notification`
- ุฅุฑุณุงู ุชูุจููุงุช ููุฑูุฉ ููุฑูู ุงูุฏุนู
- ุชุถููู ุฑุงุจุท wa.me ููุฑุฏ ุงููุจุงุดุฑ
- ุญูุธ ุณูุงู ุงููุญุงุฏุซุฉ

## ๐ ุงูุฑุณุงุฆู ุงููุงุจูุฉ ููุชุฎุตูุต

### ุฑุณุงูุฉ ุงูุชุตุนูุฏ
```
ุชู ุชุญููู ูุญุงุฏุซุชู ุฅูู ูุฑูู ุงูุฏุนู ุงููุชุฎุตุต. ุณูุชูุงุตู ูุนู ุฃุญุฏ ููุซูููุง ูุฑูุจุงู.
```

### ุฑุณุงูุฉ ุงููุญุงุฏุซุฉ ุงูููุตุนุฏุฉ
```
ูุญุงุฏุซุชู ููุฏ ุงููุฑุงุฌุนุฉ ูู ูุฑูู ุงูุฏุนู. ุณูุชูุงุตู ูุนู ูุฑูุจุงู.
```

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

1. **ุชุดุบูู Migrations**:
```bash
supabase db push
```

2. **ุฅุถุงูุฉ ุฃุฑูุงู ุงูุฏุนู**:
- ุงูุชูู ุฅูู `/escalation-settings`
- ุฃุถู ุฃุฑูุงู WhatsApp ููุฑูู ุงูุฏุนู

3. **ุชูููู ุงูุฑุณุงุฆู**:
- ุฎุตุต ุฑุณุงุฆู ุงูุชุตุนูุฏ ุญุณุจ ุงุญุชูุงุฌุงุชู
- ุญุฏุฏ ุงููููุงุช ุงูููุชุงุญูุฉ ููุชุตุนูุฏ

4. **ุงููุชุงุจุนุฉ**:
- ุฑุงูุจ ุงููุญุงุฏุซุงุช ุงูููุตุนุฏุฉ ูู `/escalated-conversations`
- ุงุญุตู ุนูู ุชูุจููุงุช ููุฑูุฉ ุนูุฏ ุงูุชุตุนูุฏ

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

- Row Level Security ููุนูู ุนูู ุฌููุน ุงูุฌุฏุงูู
- ุงููุณุชุฎุฏููู ูุฑูู ููุท ุจูุงูุงุชูู
- ุงูุชุตุนูุฏุงุช ูุฑุชุจุทุฉ ุจุญุณุงุจุงุช WhatsApp ุงููููููุฉ

## ๐ฑ ุงูุชูุงูู ูุน WhatsApp

ุงููุธุงู ูุชูุงูู ุจุณูุงุณุฉ ูุน:
- Baileys/Evolution API
- ุฑุณุงุฆู WhatsApp ุงููุตูุฉ ูุงูุตูุชูุฉ
- ุงูุตูุฑ ูุงููุณุงุฆุท ุงููุชุนุฏุฏุฉ

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

- ุชุตููู ุนุตุฑู ูุณูู ุงูุงุณุชุฎุฏุงู
- ุดุงุฑุงุช ุชูุจูู ูููุญุงุฏุซุงุช ุงููุดุทุฉ
- ุฅุญุตุงุฆูุงุช ูู ุงูููุช ุงููุนูู
- ุฏุนู ุงููุถุน ุงูุฏุงูู

## ๐ก ูุตุงุฆุญ ููุงุณุชุฎุฏุงู ุงูุฃูุซู

1. **ุญุฏุฏ ุงููููุงุช ุงูููุชุงุญูุฉ ุจุฏูุฉ**: ุงุฎุชุฑ ูููุงุช ูุงุถุญุฉ ุชุฏู ุนูู ุงูุญุงุฌุฉ ููุฏุนู ุงูุจุดุฑู
2. **ุฑุงูุจ ุงูุฅุญุตุงุฆูุงุช**: ุงุณุชุฎุฏููุง ูุชุญุณูู ุฃุฏุงุก ุงูุฐูุงุก ุงูุงุตุทูุงุนู
3. **ุงุณุชุฌุจ ุจุณุฑุนุฉ**: ุงูุชุตุนูุฏุงุช ุชุญุชุงุฌ ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ
4. **ุฏุฑูุจ ุงููุฑูู**: ุชุฃูุฏ ุฃู ูุฑูู ุงูุฏุนู ูููู ุงููุธุงู

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุง ุชุตู ุงูุชูุจููุงุช
- ุชุฃูุฏ ูู ุตุญุฉ ุฃุฑูุงู WhatsApp
- ุชุญูู ูู ุชูุนูู ุงูุฃุฑูุงู
- ุฑุงุฌุน ุณุฌูุงุช Edge Functions

### ุงูุชุตุนูุฏ ูุง ูุนูู
- ุชุฃูุฏ ูู ุชูุนูู ุงูุชุตุนูุฏ ููู instance
- ุฑุงุฌุน ุงููููุงุช ุงูููุชุงุญูุฉ
- ุชุญูู ูู ูุนุงููุฑ ุงูุชุตุนูุฏ

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดููุฉ:
- ุงูุชุญ issue ุนูู GitHub
- ุชูุงุตู ูุน ูุฑูู ุงูุฏุนู ุงูููู